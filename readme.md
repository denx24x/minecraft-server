# MINEcraft
Представляет собой двумерный майнкрафт, да. Рассмотрим некоторые особенности:
# Процедурная генерация
Мир грубо говоря бесконечный и генерируется многооктавным числовым шумом. Процесс этот можно описать следующим образом:
-  мир делелится "пополам" - одномерным многооктавным числовым шумом определяется граница поверхности
-  на те блоки, что находятся ниже границы поверхности, накладывается двумерный многооктавным числовой шум в двух вариациях - первая определяет пещеры, а вторая определяет руды.
-  на границе поверхности определяются деревья

Мир разделен на чанки, процесс перемещения по миру можно представить следующим образом:
-  прямоугольник, представляющий "обзор" игрока, движется в области большего прямоугольника, и когда игрок доходит до его границы, пространство генерируется заново.

# Освещение
Освещение в игре реализовано алгоритмом поиска в ширину и дает достаточно красивые результаты
Помимо этого, любой блок, не перекрытый сверху непрозрачным блоком считается освещенным (прямой свет), однако чем ниже земли тот находится, тем он слабее 

# Основные свойства оригинального майнкрафта 
Основные механики реализованы. Перемещение, взаимодействие с миром, крафты.
Все доступные крафты и блоки можно посмотреть в соответствующих директориях /objects и /recipes
изображения доступны в директории /data

# OpenGl
Изначально проект работал исключительно на pygame, однако, он не может рисовать множество мелких обьектов достаточно быстро. Так, для прорисовки используется OpenGl.

# Гибкий интерфейс
Все старается уместиться в экран пользователя. Поскольку весь мир из блоков, вы можете задать количество и размеры блоков, что и определяет размеры экрана.
Так, стандартно, по ширине он будет 12 * 64 = 768 пикселей. точно так же и по высоте.

# Сериализация

Любой обьект старается быть json-сериализуемым, что часто используется в сетевой игре и сохранениях. Так, вы можете задать свойства обьекта в json файлах в /objects (все файлы, находящиеся там будут прогружены игрой).
Помимо этого обьекты загружают свои .py классы в /classes, что позволяет добавлять модификации, обьекты с произвольным поведением.
Текушие обьекты считаются "стартовым" набором.
Среди свойств можно выделить:
```sh
- name - идентификатор обьекта, проще всего действительно называть именем ('dirt', к примеру)
- class - название класса блока (simple_block - стандартный)
- items_class - название класса предмета (simple_item - стандартный) (да, это разные классы)
- is_phys - (0-1) определяет, может ли игрок пройти через этот блок
- is_item (0-1) определяет, является ли обьект исключительно предметом (нельзя поставить как блок)
- transparent (0-1) определяет, является ли обьект прозрачным (влияет на освещение)
-  hp (1-...) как долго будет ломаться блок
-  lighting (0-...) яркость блока (1 - обычный свет)
- drop - список из трех элементов - название обьекта, который получает игрок когда ломает этот блок - минимальное количество - максимальное количество
```
# Сетевая игра
Для запуска сервера необходимо запустить server.py. Он будет запущен на 440 порту.
Состояние сервера можно сохранить и загрузить.
доступные команды:
```sh
exit load save 
```
Клиент и сервер общаются json-обьектами

# Запуск
На Linux рекомендуется производить запуск с параметром PYTHONIOENCODING=utf-8

Для запуска необходимо запустить main.py (или exe)

Для запуска сервера - server.py (или exe)
Для подключения к серверу можно использовать hamachi или Radmin
Для тестирования мультиплеера достаточно удобно подключиться с нескольких экземпляров игры на localhost (127.0.0.1:440)